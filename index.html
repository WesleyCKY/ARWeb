<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- auto refresh, for dev purpose -->
    <!-- <meta http-equiv="refresh" content="10"> -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- import model-viewer into this file -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    
   <!--  <script type="module">
        const modelViewer = document.querySelector("model-viewer");
        //switchSrc function  
        window.switchSrc = (element, name, backDrop) => {
          const base = "assets/";
          modelViewer.src = base + "glb/"+ name +".glb";
          modelViewer.poster = base + "png/"+ name +".png";
          const slides = document.querySelectorAll(".slide");
          slides.forEach((element) => {element.classList.remove("selected");});

          // dynamic background image, fetch from map folder
          let backgroundImg ="url(" + base + "png/map/"+ backDrop +"/"+ backDrop+ "/"+ backDrop +"_02.png)";
          // console.log(backgroundImg);
          document.getElementById('mv').style.backgroundImage=backgroundImg;
          
          var textTemp = '';
          // fetch .txt file to the id="detail" div 
          fetch(base+ "txt/" + name + ".txt")
            .then(response => response.text())
          // .then(text => document.getElementById("detail").innerHTML = text) 
            .then((text) => {
              var i;
              var NumOfChinese = 0;
              var lastChar = 0;
              // console.log("Text length", text.length);

              //get where is the end of chinese word
              for (i = 0; i < text.length-1; i++) { 
                if (text[i].match("[\u4E00-\u9FA5]+")) {
                  NumOfChinese += 1;
                }
              }
              // console.log("Num of Chinese Char: ",NumOfChinese);

              // loop through all the words and remove all the space
              for (var j = 0; j < text.length; j++) {
                  // In range of Chinese words
                  if (j < NumOfChinese && text[j].match(' '||'/s'||'/S')) {
                      // console.log("eliminated word:",text[j]);
                      // textTemp += 'X';
                      // console.log(j);
                      continue;
                  }
                  
                  // console.log("Eng zone");
                  textTemp += text[j];
              }
              // console.log(textTemp);
              document.getElementById("detail").innerHTML = textTemp;
            })
            
          element.classList.add("selected");
        };
      
        document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
          // Keep slider interactions from affecting the XR scene.
          ev.preventDefault();
        });
      </script> -->
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
   

</head>
<!-- Model viwer template -->
<body>
  <!-- init model, change while switchSrc() is called -->
    <script src="app.js" type="text/javascript"></script>
    <model-viewer id="mv" src="assets/glb/bucoin.glb" 
        ar ar-modes="webxr scene-viewer quick-look"
        pan-y pan-x
        Max-field-of-view="50deg"
        Min-field-of-view="50deg"
        camera-orbit="180deg 1.5m"
        camera-controls="" background-color="#455A64" alt="A 3D model carousel">
        <div id="detail" style="height:69vh;
                    width:23vw;
                    overflow:auto;
                    float: right;
                    font-size: 20px;
                    font-size: 2.3vw;
                    background-color:rgb(61, 63, 58); opacity:0.7;
                    color:white;
                    scrollbar-base-color:gold;
                    font-family:serif;
                    padding:40px 40px;">
                   布幣是中國古代貨幣，因形狀似鏟，又稱鏟布，在中國春秋戰國時曾是民間交易的媒介。「布」本有麻布之意，而麻布是交易媒介之一，在銅幣出現後，人們因受長期習慣的影響，仍稱銅錢為布。布幣是從青銅農具鎛演變而來的，布幣形狀劃分為空首布，平首布兩大類。最初的布幣，保留著其作為工具的模樣，留有裝柄的的銎，原始而厚重，故稱為空首布；後來逐漸減輕，變薄，變小，幣身完全成為片狀，稱為平首布，平首布上面通常鑄有地名或紀重的文字。後來王莽的新朝亦曾造布幣。 Spade money was an ancient Chinese currency that was derived from the bronze agricultural tools and commonly circulated during the Spring and Autumn period. The earliest spade money retained the element of the hollowed handle of agricultural tools. It was thick and heavy. Later, it was redesigned and gradually became lightened, thinned and smaller.
        </div>
  <button slot="ar-button" id="ar-button">
    View in AR mode
  </button>
  <!-- Sliding button list -->
  <div class="slider">
    <div class="slides">
      <!-- App 1 -->
      <button class="slide selected" onclick="switchSrc(this, 'bucoin', 'chunqiu');" style="background-image: url('assets/png/bucoin.png');"> 
        <svg viewBox="0 0 450 50">
          <text y="50">1.布幣</text>
        </svg>
    </button>
    <button class="slide" onclick="switchSrc(this, 'daobi', 'zhanguo')" style="background-image: url('assets/png/daobi.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">2.刀幣</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'banliangqian', 'zhanguo')" style="background-image: url('assets/png/banliangqian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">3.半兩錢</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'huanqian', 'zhanguo')" style="background-image: url('assets/png/huanqian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">4.圜錢</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'yibiqian', 'zhanguo')" style="background-image: url('assets/png/yibiqian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">5.蟻鼻錢</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'qinhuangjian', 'qin')" style="background-image: url('assets/png/qinhuangjian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">6.秦皇劍</text>
        </svg>
      </button>    
      <button class="slide" onclick="switchSrc(this, 'lisi', 'qin')" style="background-image: url('assets/png/lisi.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">7.李斯</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'mengtian', 'qin')" style="background-image: url('assets/png/mengtian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">8.蒙恬</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'qinshihuang', 'qin')" style="background-image: url('assets/png/qinshihuang.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">9.秦始皇</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'jinke', 'qin')" style="background-image: url('assets/png/jinke.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">10.荊軻</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'liubang', 'xihan')" style="background-image: url('assets/png/liubang.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">11.劉邦</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'wangmang', 'xihan')" style="background-image: url('assets/png/wangmang.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">12.王莽</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'hanxin', 'xihan')" style="background-image: url('assets/png/hanxin.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">13.韓信</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'xiangbo', 'xihan')" style="background-image: url('assets/png/xiangbo.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">14.項伯</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'xiangyu', 'xihan')" style="background-image: url('assets/png/xiangyu.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">15.項羽</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'xiangzhuang', 'xihan')" style="background-image: url('assets/png/xiangzhuang.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">16.項莊</text>
        </svg>
      </button>
      <!-- App 2 -->
      <button class="slide" onclick="switchSrc(this, 'zhuwen', 'tang')" style="background-image: url('assets/png/zhuwen.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">17.朱溫</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'lishimin', 'tang')" style="background-image: url('assets/png/lishimin.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">18.李世民</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'lilongji', 'tang')" style="background-image: url('assets/png/lilongji.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">19.李隆基</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'wuzetian', 'tang')" style="background-image: url('assets/png/wuzetian.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">20.武則天</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'gaolishi', 'tang')" style="background-image: url('assets/png/gaolishi.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">21.高力士</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'shishouxin', 'beisong')" style="background-image: url('assets/png/shishouxin.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">22.石守信</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'zhaokuangyin', 'beisong')" style="background-image: url('assets/png/zhaokuangyin.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">23.趙匡胤</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'yuefei', 'nansong')" style="background-image: url('assets/png/yuefei.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">24.岳飛</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'liufutong', 'yuan')" style="background-image: url('assets/png/liufutong.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">25.劉福通</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'hubilie', 'yuan')" style="background-image: url('assets/png/hubilie.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">26.忽必烈</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'tiemuzhen', 'yuan')" style="background-image: url('assets/png/tiemuzhen.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">27.鐵木真</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'hanshantong', 'yuan')" style="background-image: url('assets/png/hanshantong.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">28.韓山童</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'zhuyuanzhang', 'ming')" style="background-image: url('assets/png/zhuyuanzhang.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">29.朱元璋</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'lizicheng', 'ming')" style="background-image: url('assets/png/lizicheng.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">30.李自成</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'qianlong', 'qing')" style="background-image: url('assets/png/qianlong.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">31.乾隆帝</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'wusangui', 'qing')" style="background-image: url('assets/png/wusangui.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">32.吳三桂</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'kangxi', 'qing')" style="background-image: url('assets/png/kangxi.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">33.康熙帝</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'cixitaihou', 'qing')" style="background-image: url('assets/png/cixitaihou.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">34.慈禧太后</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'zhenghe', 'ming')" style="background-image: url('assets/png/zhenghe.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">35.鄭和</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'linzexu', 'qing')" style="background-image: url('assets/png/linzexu.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">36.林則徐</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'yijin', 'qing')" style="background-image: url('assets/png/yijin.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">37.義律</text>
        </svg>
      </button>
      <button class="slide" onclick="switchSrc(this, 'yongzheng', 'qing')" style="background-image: url('assets/png/yongzheng.png');">
        <svg viewBox="0 0 450 50">
          <text y="50">38.雍正帝</text>
        </svg>
      </button>
    </div>
  </div>
</model-viewer>
</body>
</html>